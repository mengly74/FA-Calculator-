
<!DOCTYPE html>
<html>
<head>
    <title>NFA to DFA Converter</title>
    <style>
        body {
            font-family: Arial, sans-serif;
            margin: 40px;
        }
        input, button, textarea {
            margin-top: 10px;
            display: block;
        }
        textarea {
            width: 100%;
            height: 100px;
        }
    </style>
</head>
<body>
    <h1>NFA to DFA Converter</h1>
    <label for="states">States (comma-separated):</label>
    <input type="text" id="states" placeholder="e.g., q0,q1,q2">

    <label for="alphabet">Alphabet (comma-separated):</label>
    <input type="text" id="alphabet" placeholder="e.g., a,b">

    <label for="transitions">Transitions (one per line, format: state, symbol -> state):</label>
    <textarea id="transitions" placeholder="e.g., q0,a -> q1"></textarea>

    <label for="startState">Start State:</label>
    <input type="text" id="startState" placeholder="e.g., q0">

    <label for="finalStates">Final States (comma-separated):</label>
    <input type="text" id="finalStates" placeholder="e.g., q1,q2">

    <button onclick="convertNFAtoDFA()">Convert to DFA</button>

    <h2>DFA Result</h2>
    <pre id="result"></pre>

    <script>
        function convertNFAtoDFA() {
            const states = document.getElementById('states').value.split(',');
            const alphabet = document.getElementById('alphabet').value.split(',');
            const transitionsInput = document.getElementById('transitions').value.split('\n');
            const startState = document.getElementById('startState').value;
            const finalStates = document.getElementById('finalStates').value.split(',');

            let transitions = {};
            for (let t of transitionsInput) {
                const [input, output] = t.split('->').map(s => s.trim());
                const [state, symbol] = input.split(',').map(s => s.trim());
                if (!transitions[state]) transitions[state] = {};
                if (!transitions[state][symbol]) transitions[state][symbol] = [];
                transitions[state][symbol].push(output);
            }

            let dfaStates = [];
            let dfaTransitions = {};
            let dfaStartState = [startState];
            let dfaFinalStates = [];

            let unmarkedStates = [dfaStartState];
            let markedStates = [];

            while (unmarkedStates.length > 0) {
                let current = unmarkedStates.pop();
                markedStates.push(current);

                let stateName = current.sort().join(',');
                if (!dfaStates.includes(stateName)) {
                    dfaStates.push(stateName);
                }

                if (current.some(state => finalStates.includes(state))) {
                    dfaFinalStates.push(stateName);
                }

                for (let symbol of alphabet) {
                    let nextStates = [];
                    for (let state of current) {
                        if (transitions[state] && transitions[state][symbol]) {
                            nextStates = nextStates.concat(transitions[state][symbol]);
                        }
                    }
                    nextStates = [...new Set(nextStates)];

                    let nextStateName = nextStates.sort().join(',');
                    if (nextStateName && !dfaStates.includes(nextStateName)) {
                        unmarkedStates.push(nextStates);
                    }

                    if (!dfaTransitions[stateName]) dfaTransitions[stateName] = {};
                    dfaTransitions[stateName][symbol] = nextStateName;
                }
            }

            let result = `States: ${dfaStates.join(', ')}\n`;
            result += `Alphabet: ${alphabet.join(', ')}\n`;
            result += `Start State: ${dfaStartState.join(', ')}\n`;
            result += `Final States: ${dfaFinalStates.join(', ')}\n`;
            result += `Transitions:\n`;
            for (let state in dfaTransitions) {
                for (let symbol in dfaTransitions[state]) {
                    result += `  ${state} --${symbol}--> ${dfaTransitions[state][symbol]}\n`;
                }
            }

            document.getElementById('result').innerText = result;
        }
    </script>
</body>
</html>
